<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Asynchronous Programming - Lesson 4.5 | JavaScript for AI</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Lesson 4.5: Asynchronous Programming</h1>
    <p>Learn how to handle asynchronous operations in JavaScript using callbacks, promises, and async/await.</p>
  </header>

  <main class="lesson-content">
    <section class="lesson-overview">
      <h2>What You'll Learn:</h2>
      <ul>
        <li>How to work with asynchronous code in JavaScript</li>
        <li>Understanding callbacks, promises, and async/await</li>
        <li>Handling asynchronous operations in JavaScript effectively</li>
      </ul>
      <p>Asynchronous programming is key in modern JavaScript development, especially when working with APIs, file systems, and timers. This lesson will teach you how to handle asynchronous code and avoid blocking the main thread.</p>
    </section>

    <section class="lesson-details">
      <h2>Understanding Callbacks</h2>
      <p>Callbacks are functions passed as arguments to other functions, to be invoked once the operation is completed:</p>
      <pre><code>
function fetchData(callback) {
  setTimeout(() => {
    console.log("Data fetched!");
    callback("Data successfully fetched");
  }, 1000);
}

fetchData((message) => {
  console.log(message);
});
      </code></pre>
      <p>In this example, the <code>fetchData</code> function fetches data after 1 second, and the callback is called to log the message once the data is fetched.</p>

      <h2>Working with Promises</h2>
      <p>Promises allow you to chain operations and handle success and failure separately. Here's an example:</p>
      <pre><code>
function fetchData() {
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      const data = "Fetched data!";
      resolve(data);
    }, 1000);
  });
}

fetchData().then((data) => {
  console.log(data);
}).catch((error) => {
  console.error(error);
});
      </code></pre>
      <p>In this example, the <code>fetchData</code> function returns a promise that resolves after 1 second with the data. The <code>.then()</code> method handles the successful result, and <code>.catch()</code> handles errors.</p>

      <h2>Async/Await Syntax</h2>
      <p>Async/await is a more modern approach to handling asynchronous operations in a way that looks synchronous:</p>
      <pre><code>
async function fetchData() {
  const response = await new Promise((resolve, reject) => {
    setTimeout(() => {
      resolve("Data fetched successfully!");
    }, 1000);
  });
  console.log(response);
}

fetchData();
      </code></pre>
      <p>The <code>async</code> keyword makes a function return a promise, and the <code>await</code> keyword pauses the execution of the function until the promise is resolved.</p>
    </section>

    <section class="interactive-quiz">
      <h2>Interactive Quiz:</h2>
      <p>Test your understanding of asynchronous programming with the following questions:</p>
      <form id="quizForm">
        <div>
          <label for="q1">1. What is a callback in JavaScript?</label>
          <textarea id="q1" placeholder="Write your answer here..."></textarea>
        </div>
        <div>
          <label for="q2">2. How does a promise work in JavaScript?</label>
          <textarea id="q2" placeholder="Write your answer here..."></textarea>
        </div>
        <div>
          <label for="q3">3. What is the purpose of the async/await syntax?</label>
          <textarea id="q3" placeholder="Write your answer here..."></textarea>
        </div>
        <button type="submit">Submit Answers</button>
      </form>
      <div id="quizResults"></div>
    </section>

    <section class="next-lesson">
      <p>Ready to move to the next lesson?</p>
      <a href="lesson4by6.html">Proceed to Lesson 4.6: Error Handling</a>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 AIcodeJS. All rights reserved.</p>
  </footer>

  <script>
    // Handle quiz submission
    document.getElementById('quizForm').addEventListener('submit', function(event) {
      event.preventDefault();
      const q1 = document.getElementById('q1').value;
      const q2 = document.getElementById('q2').value;
      const q3 = document.getElementById('q3').value;
      
      const result = `
        <h3>Your Answers:</h3>
        <p><strong>Q1:</strong> ${q1}</p>
        <p><strong>Q2:</strong> ${q2}</p>
        <p><strong>Q3:</strong> ${q3}</p>
      `;
      document.getElementById('quizResults').innerHTML = result;
    });
  </script>
</body>
</html>
