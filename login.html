<!DOCTYPE html>
<html lang="en">
<head>
  <title>Thank You for Buying!</title>

<style>
body {
  margin: 0;
  padding: 0;
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(135deg, #dfe9f3, #ffffff);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  text-align: center;
  color: #222;
  padding: 20px;
}

h2 {
  font-size: 2.2rem;
  font-weight: 600;
  margin-bottom: 20px;
  color: #333;
}

#username-msg {
  font-size: 1.5rem;
  font-weight: 500;
  color: #4a4a4a;
  margin-bottom: 30px;
}

button {
  font-size: 1.2rem;
  padding: 14px 28px;
  background-color: #4a90e2;
  border: none;
  color: white;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

button:hover {
  background-color: #3b7fd3;
}
</style>
</head>
<body>
  <h2>Thank you for buying the full course!</h2>
  <p id="username-msg"></p>
  <button onclick="redirectToCourse()">Access Course</button>

  <script>
    // Generate random username
    const generatedUser = "user_" + Math.floor(100000 + Math.random() * 900000);
    localStorage.setItem("user_logged_in", "true");
    localStorage.setItem("username", generatedUser);
    document.getElementById("username-msg").textContent = "Your Username: " + generatedUser;

    function redirectToCourse() {
      // Smart Redirect Handling for WebView and Browser

      var isInWebView = (function () {
        var standalone = window.navigator.standalone,
            userAgent = window.navigator.userAgent.toLowerCase(),
            safari = /safari/.test(userAgent),
            ios = /iphone|ipod|ipad/.test(userAgent);
        return (ios && !standalone && !safari) || (userAgent.includes('wv') || userAgent.includes('android'));
      })();

      if (isInWebView) {
        // Inside WebView: Use full URL
        window.location.href = "https://yourwebsite.com/index.html"; 
      } else {
        // Normal Browser: Use relative URL
        window.location.href = "index.html"; 
      }
    }
  </script>
</body>
</html>
