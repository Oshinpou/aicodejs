<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Working with APIs - Lesson 4.7 | JavaScript for AI</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Lesson 4.7: Working with APIs</h1>
    <p>Learn how to interact with external data sources using APIs in JavaScript.</p>
  </header>

  <main class="lesson-content">
    <section class="lesson-overview">
      <h2>What You'll Learn:</h2>
      <ul>
        <li>What APIs are and why they are important</li>
        <li>How to make HTTP requests using JavaScript</li>
        <li>How to handle API responses and errors</li>
      </ul>
      <p>APIs (Application Programming Interfaces) allow you to access external services and data. In this lesson, you will learn how to interact with APIs, send HTTP requests, and handle the responses.</p>
    </section>

    <section class="lesson-details">
      <h2>What is an API?</h2>
      <p>An API is a set of rules that allow one program to interact with another. It defines the methods and data formats that applications can use to communicate. APIs are used to access data, services, or functionality from a remote server.</p>

      <h2>Making API Requests with Fetch</h2>
      <p>The <code>fetch()</code> function allows you to make HTTP requests to an API. It returns a promise that resolves to the response object.</p>
      <pre><code>
fetch('https://api.example.com/data')
  .then(response => response.json())
  .then(data => {
    console.log(data);
  })
  .catch(error => {
    console.error('Error fetching data:', error);
  });
      </code></pre>
      <p>In the example above, we use the <code>fetch()</code> method to send a GET request to an API. We then use <code>response.json()</code> to parse the JSON response into a JavaScript object.</p>

      <h2>Handling API Responses</h2>
      <p>When you receive an API response, you will usually want to parse the response and handle any data returned by the API. In most cases, API responses are in JSON format, so we use the <code>response.json()</code> method to convert the response into a usable object.</p>
      <pre><code>
fetch('https://api.example.com/data')
  .then(response => {
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    return response.json();
  })
  .then(data => {
    console.log(data);
  })
  .catch(error => {
    console.error('Error fetching data:', error);
  });
      </code></pre>
      <p>It's important to handle errors properly. If the network response is not ok, an error will be thrown.</p>

      <h2>Using Async-Await for API Calls</h2>
      <p>We can also use async-await syntax to handle API requests. This makes asynchronous code more readable and easier to work with.</p>
      <pre><code>
async function fetchData() {
  try {
    const response = await fetch('https://api.example.com/data');
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    const data = await response.json();
    console.log(data);
  } catch (error) {
    console.error('Error fetching data:', error);
  }
}

fetchData();
      </code></pre>
      <p>With <code>async</code> and <code>await</code>, we can handle the fetch request and response in a more synchronous-like manner, making the code cleaner and easier to debug.</p>
    </section>

    <section class="interactive-quiz">
      <h2>Interactive Quiz:</h2>
      <p>Test your understanding of working with APIs by answering the following questions:</p>
      <form id="quizForm">
        <div>
          <label for="q1">1. What is an API?</label>
          <textarea id="q1" placeholder="Write your answer here..."></textarea>
        </div>
        <div>
          <label for="q2">2. What is the purpose of the <code>fetch()</code> function?</label>
          <textarea id="q2" placeholder="Write your answer here..."></textarea>
        </div>
        <div>
          <label for="q3">3. How does async-await improve handling API requests?</label>
          <textarea id="q3" placeholder="Write your answer here..."></textarea>
        </div>
        <button type="submit">Submit Answers</button>
      </form>
      <div id="quizResults"></div>
    </section>

    <section class="next-lesson">
      <p>Ready to move to the next lesson?</p>
      <a href="lesson4by8.html">Proceed to Lesson 4.8: Introduction to Local Storage</a>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 AIcodeJS. All rights reserved.</p>
  </footer>

  <script>
    // Handle quiz submission
    document.getElementById('quizForm').addEventListener('submit', function(event) {
      event.preventDefault();
      const q1 = document.getElementById('q1').value;
      const q2 = document.getElementById('q2').value;
      const q3 = document.getElementById('q3').value;
      
      const result = `
        <h3>Your Answers:</h3>
        <p><strong>Q1:</strong> ${q1}</p>
        <p><strong>Q2:</strong> ${q2}</p>
        <p><strong>Q3:</strong> ${q3}</p>
      `;
      document.getElementById('quizResults').innerHTML = result;
    });
  </script>
</body>
</html>
